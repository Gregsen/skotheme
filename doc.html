
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module skostheme</title>
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong>skostheme</strong></big></big> (version 0.0.1-firstblood)</font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/home/greg/Dokumente/fhp/neher/skotheme/skotheme/src/skostheme.py">/home/greg/Dokumente/fhp/neher/skotheme/skotheme/src/skostheme.py</a></font></td></tr></table>
    <p><tt>This&nbsp;class&nbsp;is&nbsp;a&nbsp;helper&nbsp;for&nbsp;merging&nbsp;skos&nbsp;thesauri.&nbsp;It&nbsp;is&nbsp;based&nbsp;on<br>
rdflib&nbsp;(https://github.com/RDFLib)<br>
Right&nbsp;now,&nbsp;this&nbsp;tool&nbsp;is&nbsp;more&nbsp;a&nbsp;proof&nbsp;of&nbsp;concept&nbsp;than&nbsp;a&nbsp;productive<br>
tool.<br>
USE&nbsp;WITH&nbsp;CAUTION</tt></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="logging.html">logging</a><br>
</td><td width="25%" valign=top><a href="string.html">string</a><br>
</td><td width="25%" valign=top><a href="sys.html">sys</a><br>
</td><td width="25%" valign=top><a href="unicodedata.html">unicodedata</a><br>
</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ee77aa">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Classes</strong></big></font></td></tr>
    
<tr><td bgcolor="#ee77aa"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl>
<dt><font face="helvetica, arial"><a href="skostheme.html#Merger">Merger</a>
</font></dt></dl>
 <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="Merger">class <strong>Merger</strong></a></font></td></tr>
    
<tr><td bgcolor="#ffc8d8"><tt>&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="Merger-__init__"><strong>__init__</strong></a>(self, files, verbose)</dt><dd><tt>Create&nbsp;a&nbsp;new&nbsp;instance.<br>
init&nbsp;takes&nbsp;two&nbsp;paramters,&nbsp;**file**&nbsp;and&nbsp;**verbose**.&nbsp;**file**&nbsp;is&nbsp;a&nbsp;list<br>
of&nbsp;files&nbsp;that&nbsp;will&nbsp;become&nbsp;global&nbsp;to&nbsp;this&nbsp;class.<br>
**verbose**&nbsp;sets&nbsp;the&nbsp;level&nbsp;of&nbsp;logging.&nbsp;If&nbsp;set&nbsp;to&nbsp;none,&nbsp;the&nbsp;loglevel<br>
is&nbsp;``warning``&nbsp;and&nbsp;will&nbsp;never&nbsp;be&nbsp;called.&nbsp;Debug&nbsp;will&nbsp;set&nbsp;the<br>
loggerlevel&nbsp;to&nbsp;``debug``&nbsp;-&nbsp;this&nbsp;would&nbsp;get&nbsp;you&nbsp;a&nbsp;lot&nbsp;of&nbsp;information.<br>
File,&nbsp;screen&nbsp;and&nbsp;both&nbsp;will&nbsp;set&nbsp;the&nbsp;level&nbsp;to&nbsp;info&nbsp;and&nbsp;tell&nbsp;the&nbsp;logger<br>
where&nbsp;the&nbsp;output&nbsp;should&nbsp;go.&nbsp;The&nbsp;logfile&nbsp;is&nbsp;called&nbsp;``parserLog.txt``.<br>
init&nbsp;also&nbsp;creates&nbsp;a&nbsp;resultgraph,&nbsp;that&nbsp;contains&nbsp;all&nbsp;thesauri&nbsp;and&nbsp;their<br>
mappings.<br>
:param&nbsp;files:&nbsp;list&nbsp;of&nbsp;thesauri<br>
:type&nbsp;files:&nbsp;list<br>
:param&nbsp;verbose:&nbsp;A&nbsp;string&nbsp;of&nbsp;(screen,&nbsp;file,&nbsp;both,&nbsp;none,&nbsp;debug)<br>
:type&nbsp;verbose:&nbsp;string</tt></dd></dl>

<dl><dt><a name="Merger-addContent"><strong>addContent</strong></a>(self, graph)</dt><dd><tt>Adds&nbsp;all&nbsp;triples&nbsp;from&nbsp;a&nbsp;graph&nbsp;to&nbsp;the&nbsp;resultgraph</tt></dd></dl>

<dl><dt><a name="Merger-addContext"><strong>addContext</strong></a>(self)</dt><dd><tt>Adding&nbsp;the&nbsp;namespacebinding&nbsp;for&nbsp;SKOS&nbsp;and&nbsp;a&nbsp;custom&nbsp;namespace&nbsp;EXA.<br>
TODO:&nbsp;Own&nbsp;Method&nbsp;for&nbsp;custom&nbsp;NS&nbsp;binding?</tt></dd></dl>

<dl><dt><a name="Merger-addEquals"><strong>addEquals</strong></a>(self, uri1, uri2)</dt><dd><tt>addEquals&nbsp;takes&nbsp;two&nbsp;URIs&nbsp;and&nbsp;adds&nbsp;them&nbsp;to&nbsp;the&nbsp;resultgraph.<br>
if&nbsp;one&nbsp;of&nbsp;the&nbsp;URIs&nbsp;is&nbsp;a&nbsp;SKOS:ConceptScheme,&nbsp;the&nbsp;predicate&nbsp;will<br>
be&nbsp;EXA:distantMatch&nbsp;instead&nbsp;of&nbsp;SKOS:CloseMatch.</tt></dd></dl>

<dl><dt><a name="Merger-addPhrase"><strong>addPhrase</strong></a>(self, uri1, uri2)</dt><dd><tt>addPhrase&nbsp;takes&nbsp;two&nbsp;URIs&nbsp;and&nbsp;adds&nbsp;them&nbsp;to&nbsp;the&nbsp;resultgraph.<br>
if&nbsp;one&nbsp;of&nbsp;the&nbsp;URIs&nbsp;is&nbsp;a&nbsp;SKOS:ConceptScheme,&nbsp;the&nbsp;predicate&nbsp;will<br>
be&nbsp;EXA:distantMatch&nbsp;instead&nbsp;of&nbsp;SKOS:relatedMatch.</tt></dd></dl>

<dl><dt><a name="Merger-addRelated"><strong>addRelated</strong></a>(self, uri1, uri2)</dt><dd><tt>addEquals&nbsp;takes&nbsp;two&nbsp;URIs&nbsp;and&nbsp;adds&nbsp;them&nbsp;to&nbsp;the&nbsp;resultgraph.<br>
if&nbsp;one&nbsp;of&nbsp;the&nbsp;URIs&nbsp;is&nbsp;a&nbsp;SKOS:ConceptScheme,&nbsp;the&nbsp;predicate&nbsp;will<br>
be&nbsp;EXA:distantMatch&nbsp;instead&nbsp;of&nbsp;SKOS:CloseMatch.</tt></dd></dl>

<dl><dt><a name="Merger-addSubstrings"><strong>addSubstrings</strong></a>(self, uri1, uri2)</dt><dd><tt>addSubstrings&nbsp;takes&nbsp;two&nbsp;URIs&nbsp;and&nbsp;adds&nbsp;them&nbsp;to&nbsp;the&nbsp;resultgraph.<br>
if&nbsp;one&nbsp;of&nbsp;the&nbsp;URIs&nbsp;is&nbsp;a&nbsp;SKOS:ConceptScheme,&nbsp;the&nbsp;predicate&nbsp;will<br>
be&nbsp;EXA:distantMatch&nbsp;instead&nbsp;of&nbsp;SKOS:relatedMatch.</tt></dd></dl>

<dl><dt><a name="Merger-addToResult"><strong>addToResult</strong></a>(self, s, p, o)</dt><dd><tt>Adds&nbsp;a&nbsp;triple&nbsp;to&nbsp;the&nbsp;resultgraph</tt></dd></dl>

<dl><dt><a name="Merger-getChildren"><strong>getChildren</strong></a>(self, uri, graph)</dt></dl>

<dl><dt><a name="Merger-getLabels"><strong>getLabels</strong></a>(self, graph)</dt><dd><tt>getLabels&nbsp;takes&nbsp;a&nbsp;ConjunctiveGraph&nbsp;instance&nbsp;and&nbsp;finds&nbsp;all<br>
SKOS:prefLabel.&nbsp;It&nbsp;returns&nbsp;an&nbsp;dictionary&nbsp;with&nbsp;{uri:label}.<br>
param:&nbsp;graph&nbsp;-&nbsp;a&nbsp;ConjunctiveGraph&nbsp;instance<br>
return:&nbsp;compict&nbsp;-&nbsp;a&nbsp;dictionary&nbsp;of&nbsp;all&nbsp;{uri:label}&nbsp;for&nbsp;a&nbsp;graph</tt></dd></dl>

<dl><dt><a name="Merger-getParents"><strong>getParents</strong></a>(self, uri, graph)</dt></dl>

<dl><dt><a name="Merger-isConceptScheme"><strong>isConceptScheme</strong></a>(self, uri)</dt><dd><tt>returns&nbsp;true&nbsp;if&nbsp;a&nbsp;uri&nbsp;is&nbsp;a&nbsp;SKOS:ConceptScheme<br>
TODO:&nbsp;Method&nbsp;for&nbsp;custom&nbsp;"type"-checking</tt></dd></dl>

<dl><dt><a name="Merger-isPhrase"><strong>isPhrase</strong></a>(self, label1, label2)</dt><dd><tt>returns&nbsp;true&nbsp;if&nbsp;one&nbsp;item&nbsp;is&nbsp;a&nbsp;phrase&nbsp;containing&nbsp;the&nbsp;other&nbsp;item.<br>
params:&nbsp;string</tt></dd></dl>

<dl><dt><a name="Merger-isSameSig"><strong>isSameSig</strong></a>(self, label1, label2)</dt></dl>

<dl><dt><a name="Merger-isSameTerm"><strong>isSameTerm</strong></a>(self, label1, label2)</dt><dd><tt>returns&nbsp;true&nbsp;if&nbsp;two&nbsp;items&nbsp;are&nbsp;equal<br>
params:&nbsp;string</tt></dd></dl>

<dl><dt><a name="Merger-isSubstring"><strong>isSubstring</strong></a>(self, label1, label2)</dt><dd><tt>returns&nbsp;true&nbsp;if&nbsp;one&nbsp;item&nbsp;is&nbsp;a&nbsp;substring&nbsp;of&nbsp;the&nbsp;other.<br>
params:&nbsp;string</tt></dd></dl>

<dl><dt><a name="Merger-log"><strong>log</strong></a>(self, output<font color="#909090">='both'</font>)</dt><dd><tt>this&nbsp;method&nbsp;creates&nbsp;a&nbsp;filehandle&nbsp;and&nbsp;a&nbsp;screenhandle&nbsp;for<br>
the&nbsp;logger.&nbsp;Depending&nbsp;on&nbsp;the&nbsp;output&nbsp;variable,&nbsp;it&nbsp;will&nbsp;call<br>
logToFile,&nbsp;to&nbsp;create&nbsp;the&nbsp;filehandle&nbsp;or&nbsp;logToScreen,&nbsp;to<br>
create&nbsp;the&nbsp;screenhandle,&nbsp;or&nbsp;both.&nbsp;If&nbsp;output&nbsp;is&nbsp;debug,<br>
log&nbsp;creates&nbsp;two&nbsp;handles&nbsp;as&nbsp;well.&nbsp;If&nbsp;output&nbsp;is&nbsp;none,&nbsp;nothing<br>
happens.<br>
&nbsp;<br>
Expected&nbsp;parameter:&nbsp;file,&nbsp;screen,&nbsp;both,&nbsp;debug,&nbsp;none</tt></dd></dl>

<dl><dt><a name="Merger-mergeFiles"><strong>mergeFiles</strong></a>(self, graphs)</dt><dd><tt>Calls&nbsp;the&nbsp;addContent-method&nbsp;on&nbsp;each&nbsp;graph&nbsp;in&nbsp;self.<strong>graph</strong>&nbsp;dictionary.<br>
This&nbsp;will&nbsp;write&nbsp;all&nbsp;graphs&nbsp;into&nbsp;one&nbsp;graph&nbsp;(the&nbsp;resultgraph)</tt></dd></dl>

<dl><dt><a name="Merger-parseGraphs"><strong>parseGraphs</strong></a>(self, files)</dt><dd><tt>This&nbsp;Method&nbsp;takes&nbsp;the&nbsp;input&nbsp;file&nbsp;names&nbsp;and<br>
parses&nbsp;them.<br>
return:&nbsp;graphs&nbsp;-&nbsp;a&nbsp;list&nbsp;of&nbsp;ConjunctiveGraphs</tt></dd></dl>

<dl><dt><a name="Merger-removeDiacritics"><strong>removeDiacritics</strong></a>(self, label)</dt><dd><tt>This&nbsp;method&nbsp;uses&nbsp;unicodedata()&nbsp;to&nbsp;remove&nbsp;diacritics&nbsp;from&nbsp;a&nbsp;string<br>
TODO:&nbsp;Does&nbsp;this&nbsp;work&nbsp;without&nbsp;unicodedata?<br>
param:&nbsp;string<br>
return:&nbsp;string</tt></dd></dl>

<dl><dt><a name="Merger-removePunctuation"><strong>removePunctuation</strong></a>(self, label)</dt><dd><tt>This&nbsp;method&nbsp;removes&nbsp;punctuations.&nbsp;Right&nbsp;now,&nbsp;it&nbsp;will&nbsp;remove<br>
'!"#$%&amp;'()*+,-./:;&lt;=&gt;?@[\]^_`{|}~'<br>
param:&nbsp;string<br>
return:&nbsp;string</tt></dd></dl>

<dl><dt><a name="Merger-stemWords"><strong>stemWords</strong></a>(self, label)</dt><dd><tt>This&nbsp;method&nbsp;stems&nbsp;a&nbsp;single&nbsp;word&nbsp;or&nbsp;a&nbsp;phrase<br>
param:&nbsp;string<br>
return:&nbsp;string</tt></dd></dl>

<dl><dt><a name="Merger-termSignatur"><strong>termSignatur</strong></a>(self, label)</dt><dd><tt>This&nbsp;method&nbsp;will&nbsp;return&nbsp;the&nbsp;term&nbsp;signatur&nbsp;of&nbsp;phrase.<br>
It&nbsp;stems&nbsp;and&nbsp;sort&nbsp;the&nbsp;phrase.<br>
param:&nbsp;string<br>
return:&nbsp;string</tt></dd></dl>

<dl><dt><a name="Merger-writeToFile"><strong>writeToFile</strong></a>(self, dest, ext)</dt><dd><tt>Serializes&nbsp;the&nbsp;resultgraph&nbsp;into&nbsp;a&nbsp;file<br>
TODO:&nbsp;custom&nbsp;filename&nbsp;and&nbsp;format</tt></dd></dl>

<hr>
Data and other attributes defined here:<br>
<dl><dt><strong>EXA</strong> = Namespace(u'http://www.example.com/#')</dl>

<dl><dt><strong>SKOS</strong> = Namespace(u'http://www.w3.org/2004/02/skos/core#')</dl>

</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#55aa55">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Data</strong></big></font></td></tr>
    
<tr><td bgcolor="#55aa55"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><strong>OWL</strong> = Namespace(u'http://www.w3.org/2002/07/owl#')<br>
<strong>RDF</strong> = rdf.namespace.ClosedNamespace('http://www.w3.org/1999/02/22-rdf-syntax-ns#')<br>
<strong>__author__</strong> = 'Jana Hoerstermann, Nils Geisemeyer, Gregor Kneitschel'<br>
<strong>__email__</strong> = 'firstname.lastname@fh-potsdam.de'<br>
<strong>__license__</strong> = 'GPL'<br>
<strong>__status__</strong> = 'Prototype'<br>
<strong>__version__</strong> = '0.0.1-firstblood'</td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#7799ee">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Author</strong></big></font></td></tr>
    
<tr><td bgcolor="#7799ee"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%">Jana&nbsp;Hoerstermann,&nbsp;Nils&nbsp;Geisemeyer,&nbsp;Gregor&nbsp;Kneitschel</td></tr></table>
</body></html>